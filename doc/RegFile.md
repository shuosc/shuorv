# RegFile

寄存器堆栈[^1]是一个典型的时序逻辑电路。

考虑到 RISC-V 有大量形如
```asm
op rd, rs1, rs2
```
的指令，我们的寄存器堆栈设计成两个输出端口（地址+输出值），一个输入端口（地址+输入值）。

另外设一个`writeEnable`输入，来控制是否确实要保存输入。

内部逻辑就是把两个输出根据地址连到输出线，这里要注意由于0号寄存器永远是0所以地址要减1。

输入在`writeEnable`且输入地址非0的时候接受输入即可。

[^1]: 其实我从来就没有懂过为啥要叫堆栈